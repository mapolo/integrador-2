<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</h:head>


<h:body>
	<ui:composition template="/XHTML/CommonColumnsContent.xhtml">
		<ui:define name="header">
		</ui:define>
		<ui:define name="body">
			<f:view>
				<p:ajaxStatus onstart="statusDialog.show();"
					onsuccess="statusDialog.hide();" />
				<p:dialog modal="true" widgetVar="statusDialog" header="Procesando"
					draggable="false" closable="false">
					<p:graphicImage width="280px" height="40px"
						value="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/images/loading.gif" />
				</p:dialog>
				<br />
				<br />
				<h:form id="form">
					<p:panel id="panel2">

						<f:facet name="header">
							<p:commandButton value="Volver"
								action="menuTipos.xhtml?faces-redirect=true"
								icon="ui-icon-arrowreturnthick-1-w" />
						</f:facet>

						<p:messages id="msg2" />

						<h:panelGrid style="margin: 0 auto;">

							<p:dataTable value="#{bateriologoView.bateriologoModel}"
								id="bateriologo" var="bateriologo"
								selection="#{bateriologoView.selectedBateriologo}"
								paginator="true" rows="5">

								<f:facet name="header">
									Bateriologo
							</f:facet>

								<p:column selectionMode="single" style="width:2%" />


								<p:column filterBy="#{bateriologo.codigo}"
									sortBy="#{bateriologo.codigo}">
									<f:facet name="header">
										<h:outputText value="Código" />
									</f:facet>
									<h:outputText value="#{bateriologo.codigo}" />
								</p:column>

								<p:column filterBy="#{bateriologo.nombreCompleto}"
									sortBy="#{bateriologo.nombreCompleto}">
									<f:facet name="header">
										<h:outputText value="Nombre Completo" />
									</f:facet>
									<h:outputText value="#{bateriologo.nombreCompleto}" />
								</p:column>

								<p:column filterBy="#{bateriologo.idSucu_Sucursal}"
									sortBy="#{bateriologo.idSucu_Sucursal}">
									<f:facet name="header">
										<h:outputText value="Id Sucursal" />
									</f:facet>
									<h:outputText value="#{bateriologo.idSucu_Sucursal}" />
								</p:column>

								<p:column filterBy="#{bateriologo.estadoRegistro}"
									sortBy="#{bateriologo.estadoRegistro}">
									<f:facet name="header">
										<h:outputText value="Estado Registro" />
									</f:facet>
									<h:outputText value="#{bateriologo.estadoRegistro}" />
								</p:column>

								<f:facet name="footer">
									<p:commandButton id="createButton" value="Crear"
										action="#{bateriologoView.action_crear()}"
										icon="ui-icon-newwin" update=":form"
										binding="#{bateriologoView.btnCrear}"
										oncomplete="PF('singleCarDialog').show()" />

									<p:commandButton id="viewButton" value="Editar"
										action="#{bateriologoView.action_buscar2()}"
										icon="ui-icon-pencil" update=":form"
										binding="#{bateriologoView.btnModify}"
										oncomplete="PF('singleCarDialog').show()" />
								</f:facet>

							</p:dataTable>

							<p:dialog id="dialog" header="Detalle Bateriologo" modal="true"
								widgetVar="singleCarDialog" resizable="false" showEffect="fade"
								hideEffect="explode" closable="false">

								<p:messages id="msg" />

								<h:panelGrid id="panelBotones" columns="2"
									style="margin: 0 auto;">

									<p:commandButton id="btnGuardar" value="Guardar"
										disabled="true" action="#{bateriologoView.action_modify}"
										binding="#{bateriologoView.btnSave}" icon="ui-icon-disk"
										update="msg,msg2,panel,panelBotones" />

									<p:commandButton id="btnCerrar" value="Cerrar"
										icon="ui-icon-close" update=":form"
										oncomplete="PF('singleCarDialog').hide()" process="@this"
										actionListener="#{bateriologoView.action_cerrar()}">
										<p:resetInput target="panel" />
									</p:commandButton>

								</h:panelGrid>
								<br />

								<h:panelGrid columns="6" id="panel" style="margin: 0 auto;">

									<h:outputText id="idbateriologo" value="Id Bateriologo:" />
									<p:inputText id="txtIdBateriologo" disabled="true"
										binding="#{bateriologoView.txtIdBate}" />
									<br />

									<h:outputText id="msgCodigo" value=" Código: *" />
									<p:inputText id="txtCodigo" disabled="true" required="true"
										requiredMessage="El Código es requerido"
										binding="#{bateriologoView.txtCodigo}"
										validatorMessage="El Código debe ser Alfanumerico">
										<f:validateRegex pattern="[a-zA-Z0-9\s]+" />
									</p:inputText>
									<p:message for="txtCodigo" display="icon" />


									<h:outputText id="msgNomnbreCompleto"
										value="Nombre Completo : " />
									<p:inputText id="txtNombreCompleto" disabled="true"
										required="false"
										binding="#{bateriologoView.txtNombreCompleto}" />
									<br />

									<h:outputText id="msgEstadoRegistro"
										value=" Estado Registro: *" />
									<p:selectOneMenu id="txtEstadoRegistro"
										value="#{bateriologoView.selectItemEstado}" disabled="true"
										binding="#{bateriologoView.txtEstadoRegistro}"
										style="width:100%" required="true"
										requiredMessage="Selección requerida Estado Registro">
										<f:selectItem itemLabel="Seleccionar" itemValue="" />
										<f:selectItem itemLabel="Activo" itemValue="A" />
										<f:selectItem itemLabel="Retirado" itemValue="R" />
									</p:selectOneMenu>
									<p:message for="txtEstadoRegistro" display="icon" />

								</h:panelGrid>
								<p:separator id="separator" />

								<p:accordionPanel id="acordion" activeIndex="3"
									binding="#{sucursalView.acordion}">

									<p:tab title="Sucursal">

										<h:panelGrid style="margin: 0 auto;">
											<p:dataTable id="sucursal"
												value="#{sucursalView.sucusalPadreModel}" var="sucursal"
												selection="#{bateriologoView.selectedSucursal}"
												paginator="true" rows="3">

												<f:facet name="header">
							                     Sucursal
							                    </f:facet>

												<p:column selectionMode="single" style="width:2%" />

												<p:column filterBy="#{sucursal.codigo}"
													sortBy="#{sucursal.codigo}">
													<f:facet name="header">
														<h:outputText value="Código" />
													</f:facet>
													<h:outputText value="#{sucursal.codigo}" />
												</p:column>

												<p:column filterBy="#{sucursal.nombre}"
													sortBy="#{sucursal.nombre}">
													<f:facet name="header">
														<h:outputText value="Nombre" />
													</f:facet>
													<h:outputText value="#{sucursal.nombre}" />
												</p:column>
												
												<p:column filterBy="#{sucursal.direccion}"
													sortBy="#{sucursal.direccion}">
													<f:facet name="header">
														<h:outputText value="Dirección" />
													</f:facet>
													<h:outputText value="#{sucursal.direccion}" />
												</p:column>

												<f:facet name="footer">
													<p:commandButton id="noButton1" value="Quitar Selección"
														action="#{bateriologoView.desactivarSucursal}"
														icon="ui-icon-circle-close" update="sucursal" />
												</f:facet>

											</p:dataTable>
										</h:panelGrid>

									</p:tab>

								</p:accordionPanel>

							</p:dialog>

						</h:panelGrid>

					</p:panel>

				</h:form>
			</f:view>
		</ui:define>

	</ui:composition>

</h:body>

</html>