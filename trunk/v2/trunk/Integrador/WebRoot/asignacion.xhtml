<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</h:head>

<h:body>
	<ui:composition template="/XHTML/CommonColumnsContent.xhtml">

		<ui:define name="body">
			<f:view>
				<p:ajaxStatus onstart="statusDialog.show();"
					onsuccess="statusDialog.hide();" />
				<p:dialog modal="true" widgetVar="statusDialog" header="Cargando"
					draggable="false" closable="false">
					<p:graphicImage
						value="#{facesContext.externalContext.request.scheme}://#{facesContext.externalContext.request.serverName}:#{facesContext.externalContext.request.serverPort}#{facesContext.externalContext.request.contextPath}/images/ajaxloadingbar.gif" />
				</p:dialog>

				<div id="logo" align="center">
					<img src="http://www.mac.com.co/themes/mac/images/logo04.gif"></img>
				</div>

				<p:megaMenu autoDisplay="false">


					<p:menuitem value="Menú" icon="ui-icon-contact" url="menu.xhtml" />

					<p:menuitem value="Cerrar Sesión" url="login.xhtml"
						icon="ui-icon-close" />

				</p:megaMenu>

				<style type="text/css">
body {
	background: black;
}
</style>
				<div id="logo" align="center">

					<h:form id="form">

						<p:panel id="panelGeneral" header="Grupo Referencia">

							<p:messages id="msg" showDetail="true" />
							<p:growl id="men" />

							<h:panelGrid id="panelMaster" style="margin: 0 auto;">
								<f:facet name="header">
									<h:panelGrid id="panelSeleccion">

									</h:panelGrid>
								</f:facet>
								<p:remoteCommand name="updateTableDiv"
									update=":form:datosTablaGrupoRef" />
								<h:panelGrid id="datosTablaGrupoRef">

									<p:dataTable id="tableDate"
										value="#{asignacionView.tablaGrupoReferencias}" var="ref"
										scrollable="true" scrollHeight="300" widgetVar="refTable"
										binding="#{asignacionView.dttGrupoReferncia}">

										<p:column headerText="ID Grupo">
											<h:outputText value="#{ref.idGrpo}" />
										</p:column>

										<p:column headerText="Nombre">
											<h:outputText value="#{ref.nombre}" />
										</p:column>

										<p:column headerText="ID Referencia">
											<h:outputText value="#{ref.idRefe}" />
										</p:column>

										<p:column headerText="Descripción">
											<h:outputText value="#{ref.descripcion}" />
										</p:column>

										<p:column headerText="Marca">
											<h:outputText value="#{ref.marca}" />
										</p:column>

										<p:column headerText="Estado del Registro">
											<h:outputText value="#{ref.estadoRegistro}" />
										</p:column>

										<p:column headerText="Activar">
										
											<p:commandButton id="btnActivarRefe" title="Activar"
												value="Activar Referencia"
												actionListener="#{asignacionView.activarReferencia}">
											</p:commandButton>
										</p:column>

										<f:facet name="footer">
											<p:commandButton id="btnActivarRefe2"
												title="asiganarGrupoReferencia"
												value="Asignar Referencia a Grupo"
												oncomplete="ingresaGrupoRef.show()">
											</p:commandButton>
										</f:facet>
									</p:dataTable>
								</h:panelGrid>

								<h:panelGrid id="panelAgregarReferenciaGrupo" columns="1"
									style="margin: 0 auto;">

									<p:dialog id="ingresaRefGrupo"
										header="Igresar Referencia a Grupo"
										widgetVar="ingresaGrupoRef" resizable="false"
										showEffect="explode" hideEffect="explode" modal="true">
										<p:messages id="msg2" showDetail="true" />
										<h:panelGrid columns="3" id="panelIngresaRefGrupo"
											cellpadding="4" style="margin:0 auto;">
											<h:panelGrid columns="2" id="panelIngresaRefGrupo2"
												style="margin: 0 auto;">

												<h:panelGrid columns="2" id="panel">
													<h:outputText id="msgGrupo" value="Grupo:" />
													<p:selectOneMenu id="cmbGrupos"
														value="#{asignacionView.grupo}"
														binding="#{asignacionView.cmbGrupos}">
														<f:selectItem itemLabel="Seleccionar" itemValue="" />
														<f:selectItems value="#{asignacionView.items}" />
													</p:selectOneMenu>
													<h:outputText id="msgIdGrre" value="Referencia:" />
													<p:inputText id="txtIdGrre"
														binding="#{asignacionView.txtReferencia}">
													</p:inputText>
													<h:outputText id="idEstado" value="Estado del Registro:" />
													<p:selectOneRadio id="console"
														value="#{asignacionView.sorActivo}" defaultValue="Activo">
														<f:selectItem itemLabel="Activo" itemValue="A" />
														<f:selectItem itemLabel="Inactivo" itemValue="R" />
													</p:selectOneRadio>
												</h:panelGrid>
											</h:panelGrid>

										</h:panelGrid>
										<p:separator id="separator99" />

										<h:panelGrid id="panelBotones" columns="1"
											style="margin: 0 auto;">

											<p:commandButton id="btnSaveGrupoRef" value="Guardar"
												actionListener="#{asignacionView.guardarRef}"
												update=":form:panelGeneral" />

										</h:panelGrid>
									</p:dialog>
								</h:panelGrid>

								<h:panelGrid id="panelConfirmarRefe" columns="1"
									style="margin: 0 auto;">

									<p:dialog id="confirmaRef" header="Confirmar Referencia"
										widgetVar="confirmaReferencia" resizable="false" showEffect=""
										hideEffect="" modal="true">
										<p:messages id="msg3" showDetail="true" />

										<h:panelGrid id="panelBotonesConfirmar" columns="1"
											style="margin: 0 auto;">

											<p:commandButton id="btnConfirmarGrupoRef" value="Activar"
												actionListener="#{asignacionView.activarReferencia}"
												update=":form:panelGeneral" />
										</h:panelGrid>

									</p:dialog>
								</h:panelGrid>
							</h:panelGrid>
						</p:panel>
					</h:form>
				</div>
			</f:view>
		</ui:define>
	</ui:composition>
</h:body>
</html>